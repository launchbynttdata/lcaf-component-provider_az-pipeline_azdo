parameters:
  - name: serviceConnection
    type: string
  - name: storageAccountName
    type: string
  - name: srcFilePath
    type: string    


steps:
  - task: AzureCLI@2
    displayName: Upload files to container
    inputs:
      azureSubscription: ${{ parameters.serviceConnection }}
      scriptType: 'bash'
      scriptLocation: inlineScript
      inlineScript: |
        az storage azcopy blob upload --container '$web' --account-name  ${{ parameters.storageAccountName }} --source ${{ parameters.srcFilePath }} --only-show-errors --recursive