parameters:
  - name: legacyPeerDeps
    type: boolean
    default: false
  - name: packageDirectory
    type: string
  - name: artifactFeedName
    type: string
  - name: buildPackageName
    type: string
  - name: packagePublishDescription
    type: string
  - name: versionOption
    type: string

steps:
  - task: UniversalPackages@0
    displayName: Publish a Universal Package
    inputs:
      command: publish
      publishDirectory: $(System.DefaultWorkingDirectory)/${{ parameters.packageDirectory }}
      vstsFeedPublish: ${{ parameters.artifactFeedName }}
      vstsFeedPackagePublish: ${{ parameters.buildPackageName }}
      packagePublishDescription: ${{ parameters.packagePublishDescription }}
      versionOption: ${{ parameters.versionOption }}